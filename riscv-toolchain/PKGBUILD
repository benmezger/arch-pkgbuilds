# Maintainer: Filipe La√≠ns (FFY00) <lains@archlinux.org>
# Contributor: Anatol Pomozov <anatol.pomozov@gmail.com>

_target=riscv-gnu
pkgname=$_target-toolchain
pkgver=20220225.nightly
pkgrel=1
pkgdesc='GNU toolchain for RISC-V, including GCC'
arch=('any')
url='https://github.com/riscv-collab/riscv-gnu-toolchain'
license=(GPL)
depends=(zlib)
makedepend=('git')
source=('git+https://github.com/riscv-collab/riscv-gnu-toolchain.git')
md5sums=('SKIP')

build_abi='ilp32'
build_arch='rv32imac'

package() {
  cd $pkgname

  ./configure \
    --prefix=$pkgdir/usr \
    --with-arch=$build_arch \
    --with-abi=$build_abi \
    --enable-multilib

  make
}
